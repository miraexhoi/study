# 블루/그린(Blue/Green) 배포 방식이란?

Blue-Green 배포는 두 개의 독립적인 환경 Blue 환경과 Green 환경을 가지고 진행되는 배포 전략이다.  
여기서 Blue는 현재 운영중인 환경을 나타내며, Green은 새로운 버전의 환경을 의미한다.  
Green의 배포 준비가 완료되면 Blue 환경에서 Green 환경으로 한 번에 전환한다.  

![image](https://github.com/user-attachments/assets/dd5d40df-945e-49a4-bb2c-d771a02da6d3)

V2가 배포된 순간부터 로드 밸런서는 V2로 모든 트래픽을 이동시키고, V1은 마지막 트래픽의 작업이 끝나면 종료된다.  
정말 찰나의 순간 V1과 V2 서버가 동시에 켜져있다고 생각하면 된다!  

롤링 배포와 다르게 한 번에 버전을 바꾸기 때문에 버전 호환에 대한 문제가 발생하지 않는다.  
또, 만약 새로운 버전에 문제가 발생하면 트래픽을 다시 Blue 환경으로 전환하여 이전 버전으로 빠르게 롤백할 수 있다.  

단점으로는, 짧은 시간이지만 두 버전이 동시에 실행되고 있는 시간도 있기 때문에 추가적인 서버 비용이 발생한다.  

### 블루/그린 배포 방식 장단점
1. 구, 신버전이 동시에 떠 있는 시간을 매우 짧게 처리할 수 있다.
2. 롤백을 굉장히 빠르다. 테스트 환경에서는 문제점이 없었는데 운영 서버에 배포를 하니 문제가 발생해도 재빨리 이전으로 롤백한다.
3. 배포 과정에서 인스턴스 수가 줄지 않으므로 요청량을 처리하는 데서 오는 장애의 부담이 없다.
 
